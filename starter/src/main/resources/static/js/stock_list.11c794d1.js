(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["stock_list"],{1169:function(t,e,n){var a=n("2d95");t.exports=Array.isArray||function(t){return"Array"==a(t)}},1392:function(t,e,n){"use strict";var a=n("51e9"),o=n.n(a);o.a},"1c4c":function(t,e,n){"use strict";var a=n("9b43"),o=n("5ca1"),i=n("4bf8"),r=n("1fa8"),s=n("33a4"),c=n("9def"),l=n("f1ae"),u=n("27ee");o(o.S+o.F*!n("5cc5")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,o,p,f=i(t),d="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,m=void 0!==g,v=0,b=u(f);if(m&&(g=a(g,h>2?arguments[2]:void 0,2)),void 0==b||d==Array&&s(b))for(e=c(f.length),n=new d(e);e>v;v++)l(n,v,m?g(f[v],v):f[v]);else for(p=b.call(f),n=new d;!(o=p.next()).done;v++)l(n,v,m?r(p,g,[o.value,v],!0):o.value);return n.length=v,n}})},"205d":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"perfect_list"},[n("div",{staticStyle:{width:"100%"}},[n("div",{staticStyle:{"text-align":"left"}},[n("el-button",{on:{click:t.crowStock}},[t._v("抓取股票")]),n("el-button",{on:{click:t.crowStockDayInfo}},[t._v("抓取每日信息")])],1),n("div",{staticStyle:{"text-align":"left"}},[n("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"选择日期"},on:{change:function(e){return t.perfectList(1)}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),n("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){return t.perfectList(1)}},model:{value:t.strategyId,callback:function(e){t.strategyId=e},expression:"strategyId"}},t._l(t.indictors,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),n("el-select",{attrs:{filterable:"",clearable:"","allow-create":"",placeholder:"请选择"},on:{change:function(e){return t.perfectList(1)}},model:{value:t.industry,callback:function(e){t.industry=e},expression:"industry"}},t._l(t.industryListData,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1),n("el-input",{attrs:{placeholder:"股票编码"},model:{value:t.stockNum,callback:function(e){t.stockNum=e},expression:"stockNum"}}),n("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.perfectList(1)}}},[t._v("查询")]),n("el-button",{attrs:{type:"warning"},on:{click:t.calc}},[t._v("开始计算")])],1),t._l(t.perfectStockList,(function(e,a){return n("div",{key:a,staticClass:"perfect_img"},[n("div",[t._v(t._s(a)+","),n("span",{on:{click:function(n){return t.copyNum(e.stockNum,this)}}},[t._v(t._s(e.stockNum))]),t._v(","),n("span",{on:{click:function(n){return t.changeIndustry(e.industry)}}},[t._v(t._s(e.industry))]),t._v(","+t._s(e.score)+","+t._s(e.scoreDesc))]),n("img",{attrs:{width:"100%",src:"http://webquoteklinepic.eastmoney.com/GetPic.aspx?nid="+t.getStockNum(e)+"&UnitWidth=-6&imageType=KXL&EF=&Formula="+e.type+"&AT=0&&type=&token=44c9d251add88e27b65ed86506f6e5da&wbp2u=|0|0|0|web&_=0.07544766952719373"},on:{mousemove:t.mouthMove}}),n("div",{staticClass:"pp",style:{right:t.rightX+"px"}}),n("div",{staticClass:"pp ppx",style:{left:t.ppx+"px"}}),n("div",{staticClass:"idx_op"},[n("span",{on:{click:function(n){return t.changeImg(e,"MACD")}}},[t._v("macd")]),n("span",{on:{click:function(n){return t.changeImg(e,"KDJ")}}},[t._v("kdj")]),n("span",{on:{click:function(n){return t.changeImg(e,"CCI")}}},[t._v("cci")]),n("span",[t._v(t._s(e.upDownRange))]),n("span",[n("a",{attrs:{target:"_blank",href:"http://quote.eastmoney.com/concept/"+t.getStockNum2(e)+".html#"}},[t._v("详情")])])])])})),n("el-pagination",{staticClass:"stock-pagination",attrs:{"current-page":t.pageData.currentPage,"page-size":t.pageData.pageCount,total:t.pageData.total,"page-sizes":[10,20,50,100],layout:"sizes, total, prev, pager, next"},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],2),n("div",{staticStyle:{position:"absolute",left:"0px",top:"50px","background-color":"red"}},[t._v("aasdfasdf")])])},o=[],i=(n("f559"),n("ac6a"),n("55dd"),n("572d")),r=n("c1df"),s=n.n(r),c={name:"PerfectList",data:function(){return{rightX:3,ppx:0,indictors:[{value:"M_TEST",label:"我的测试"},{value:"indicatorCalculator",label:"指标排序"},{value:"indicatorCalculator2",label:"指标排序2"},{value:"indicatorCalculator3",label:"指标排序3"},{value:"LH_RL_Calculator",label:"趋势计算"},{value:"beautifulCalculator",label:"完美曲线"},{value:"threeDaysUpCalculator",label:"三日联涨"},{value:"thirtyDaysUpCalculator",label:"三十日新高"},{value:"maRiseUpCalculator",label:"ma齐头向上"},{value:"topRiseUpCalculator",label:"当日涨幅"},{value:"amplitudeCalculator",label:"幅度计算排序"}],industry:"",stockNum:"",strategyId:"indicatorCalculator",date:new Date,a:123,perfectStockList:[],pageData:{currentPage:1,pageCount:100,total:0},industryListData:[]}},created:function(){this.perfectList(),this.initIndustryList()},methods:{mouthMove:function(t){console.log("mouth move",t.offsetX),this.ppx=t.offsetX},initIndustryList:function(){var t=this;Object(i["r"])().then((function(e){var n=e.data.sort((function(t,e){return t.localeCompare(e,"zh")}));t.industryListData=n}))},changeIndustry:function(t){this.industry=t,this.perfectList(1)},copyNum:function(t){navigator.clipboard.writeText(t),this.$message("copy ok "+t)},handleCurrentChange:function(t){this.pageData.currentPage=t,this.perfectList()},handleSizeChange:function(t){this.pageData.pageCount=t},calc:function(){var t={date:s()(this.date).format("YYYY-MM-DD"),strategyId:this.strategyId,stockNum:this.stockNum,pageSize:100};Object(i["c"])(t)},perfectList:function(t){var e=this;Object(i["b"])({date:s()(this.date).format("YYYY-MM-DD")}).then((function(t){e.rightX=3.7+4.23*parseInt(t.data)}));var n={date:s()(this.date).format("YYYY-MM-DD"),strategyId:this.strategyId,pageSize:100};t&&(this.pageData.currentPage=1),n.industry=this.industry,n.pageSize=this.pageData.pageCount,n.pageNum=this.pageData.currentPage,Object(i["i"])(n).then((function(t){console.log(t),t.data.forEach((function(t){t.type="KDJ"})),e.perfectStockList=t.data,e.pageData.total=t.total}))},getStockNum:function(t){return t.stockNum.startsWith("6")?"1."+t.stockNum:(t.stockNum.startsWith("3")||t.stockNum.startsWith("0"),"0."+t.stockNum)},getStockNum2:function(t){return t.stockNum.startsWith("6")?"sh"+t.stockNum:"sz"+t.stockNum},changeImg:function(t,e){t.type=e,console.log(e)},crowStock:function(){var t=this;Object(i["d"])().then((function(e){t.$message.success("ok"+JSON.stringify(e.data))}))},crowStockDayInfo:function(){var t=this;Object(i["e"])({stockNum:""}).then((function(e){t.$message.success("ok"+JSON.stringify(e.data))}))}}},l=c,u=(n("5ead"),n("2877")),p=Object(u["a"])(l,a,o,!1,null,"1c2f0c93",null);e["default"]=p.exports},"2c74":function(t,e,n){},"2f21":function(t,e,n){"use strict";var a=n("79e5");t.exports=function(t,e){return!!t&&a((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"34f7":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"board"},[n("h2",[t._v("总涨跌情况:")]),n("div",{staticClass:"stock-img"},[n("div",[n("img",{attrs:{src:"http://webquoteklinepic.eastmoney.com/GetPic.aspx?nid=1.000001&UnitWidth=-6&imageType=KXL&EF=&Formula="+t.type+"&AT=0&&type=&token=44c9d251add88e27b65ed86506f6e5da&wbp2u=|0|0|0|web&_=0.07544766952719373"},on:{click:t.changeType}})])]),n("div",[n("span",{style:{display:"inlineBlock",width:this.board.upSize/10,backgroundColor:"red"}},[t._v("上涨："+t._s(this.board.upSize))]),n("span",{style:{display:"inlineBlock",width:this.board.upSize/10,backgroundColor:"green"}},[t._v("下跌："+t._s(this.board.downSize))])]),n("h2",[t._v("各行业涨跌情况")]),n("div",t._l(this.board.industryUpDown,(function(e){return n("span",{key:e.industry,staticClass:"industry-item"},[n("span",[t._v(t._s(e.industry))]),t._v(" 上涨:"+t._s(e.upSize)+",下跌:"+t._s(e.downSize)+"\n    ")])})),0),n("h2",[t._v("各行业龙头")]),t._l(this.board.industryTopMap,(function(e,a){return n("div",{key:a,staticClass:"stock-img"},[n("div",[t._v("\n      行业:"+t._s(a)+" 股票:"+t._s(e.stockName)+","+t._s(e.upDownRange)+"\n      "),n("img",{attrs:{src:"http://webquoteklinepic.eastmoney.com/GetPic.aspx?nid="+t.getStockNum(e)+"&UnitWidth=-6&imageType=KXL&EF=&Formula="+t.type+"&AT=0&&type=&token=44c9d251add88e27b65ed86506f6e5da&wbp2u=|0|0|0|web&_=0.07544766952719373"},on:{click:t.changeType}})])])})),n("Br"),n("h2",[t._v("涨幅榜")]),t._l(this.board.topUpStockList,(function(e){return n("span",{key:e.stockNum,staticClass:"stock-img"},[n("div",[t._v("\n      "+t._s(e.stockName)+" "+t._s(e.industry)+" "+t._s(e.upDownRange)+"\n      "),n("img",{attrs:{src:"http://webquoteklinepic.eastmoney.com/GetPic.aspx?nid="+t.getStockNum(e)+"&UnitWidth=-6&imageType=KXL&EF=&Formula="+t.type+"&AT=0&&type=&token=44c9d251add88e27b65ed86506f6e5da&wbp2u=|0|0|0|web&_=0.07544766952719373"},on:{click:t.changeType}})])])})),n("h2",[t._v("跌幅榜")]),t._l(this.board.topDownStockList,(function(e){return n("span",{key:e.stockNum,staticClass:"stock-img"},[n("div",[t._v("\n      "+t._s(e.stockName)+" "+t._s(e.industry)+" "+t._s(e.upDownRange)+"\n      "),n("img",{attrs:{src:"http://webquoteklinepic.eastmoney.com/GetPic.aspx?nid="+t.getStockNum(e)+"&UnitWidth=-6&imageType=KXL&EF=&Formula="+t.type+"&AT=0&&type=&token=44c9d251add88e27b65ed86506f6e5da&wbp2u=|0|0|0|web&_=0.07544766952719373"},on:{click:t.changeType}})])])}))],2)},o=[],i=(n("f559"),n("572d")),r={data:function(){return{type:"CCI",board:{upSize:0,downSize:0,industryUpDown:[],industryTopMap:{},topUpStockList:[],topDownStockList:[]}}},mounted:function(){this.init()},created:function(){},methods:{init:function(){var t=this;Object(i["f"])().then((function(e){t.board=e.data,console.log(t.board)}))},getStockNum:function(t){return t.stockNum.startsWith("6")?"1."+t.stockNum:(t.stockNum.startsWith("3")||t.stockNum.startsWith("0"),"0."+t.stockNum)},changeType:function(){var t=["CCI","KDJ","MACD"],e=t.indexOf(this.type);e++,this.type=t[e%t.length]}}},s=r,c=(n("1392"),n("2877")),l=Object(c["a"])(s,a,o,!1,null,null,null);e["default"]=l.exports},"37c8":function(t,e,n){e.f=n("2b4c")},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"3a72":function(t,e,n){var a=n("7726"),o=n("8378"),i=n("2d00"),r=n("37c8"),s=n("86cc").f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:a.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:r.f(t)})}},5147:function(t,e,n){var a=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[a]=!1,!"/./"[t](e)}catch(o){}}return!0}},"51e9":function(t,e,n){},"55dd":function(t,e,n){"use strict";var a=n("5ca1"),o=n("d8e8"),i=n("4bf8"),r=n("79e5"),s=[].sort,c=[1,2,3];a(a.P+a.F*(r((function(){c.sort(void 0)}))||!r((function(){c.sort(null)}))||!n("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(i(this)):s.call(i(this),o(t))}})},"5df3":function(t,e,n){"use strict";var a=n("02f4")(!0);n("01f9")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=a(e,n),this._i+=t.length,{value:t,done:!1})}))},"5ead":function(t,e,n){"use strict";var a=n("2c74"),o=n.n(a);o.a},"5fa1":function(t,e,n){},"67ab":function(t,e,n){var a=n("ca5a")("meta"),o=n("d3f4"),i=n("69a8"),r=n("86cc").f,s=0,c=Object.isExtensible||function(){return!0},l=!n("79e5")((function(){return c(Object.preventExtensions({}))})),u=function(t){r(t,a,{value:{i:"O"+ ++s,w:{}}})},p=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,a)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[a].i},f=function(t,e){if(!i(t,a)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[a].w},d=function(t){return l&&h.NEED&&c(t)&&!i(t,a)&&u(t),t},h=t.exports={KEY:a,NEED:!1,fastKey:p,getWeak:f,onFreeze:d}},"6b54":function(t,e,n){"use strict";n("3846");var a=n("cb7c"),o=n("0bfb"),i=n("9e1e"),r="toString",s=/./[r],c=function(t){n("2aba")(RegExp.prototype,r,t,!0)};n("79e5")((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?c((function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?o.call(t):void 0)})):s.name!=r&&c((function(){return s.call(this)}))},"7bbc":function(t,e,n){var a=n("6821"),o=n("9093").f,i={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(e){return r.slice()}};t.exports.f=function(t){return r&&"[object Window]"==i.call(t)?s(t):o(a(t))}},8946:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"perfect_list"},[n("div",[n("div",{staticStyle:{"text-align":"left"}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:10},placeholder:"请输入内容"},on:{change:t.stockListChange},model:{value:t.stockListStr,callback:function(e){t.stockListStr=e},expression:"stockListStr"}}),n("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"选择日期"},on:{change:t.cc},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._l(t.stockList,(function(e,a){return n("div",{key:a,staticClass:"perfect_img"},[n("div",[t._v(t._s(a)+","+t._s(e))]),n("img",{attrs:{width:"100%",src:"http://webquoteklinepic.eastmoney.com/GetPic.aspx?nid="+t.getStockNum(e)+"&UnitWidth=-6&imageType=KXL&EF=&Formula="+t.type+"&AT=0&&type=&token=44c9d251add88e27b65ed86506f6e5da&wbp2u=|0|0|0|web&_=0.07544766952719373"},on:{mousemove:t.mouthMove}}),n("br"),n("div",{staticClass:"pp",style:{right:t.rightX+"px"}}),n("div",{staticClass:"pp ppx",style:{left:t.ppx+"px"}}),n("div",{staticClass:"idx_op"},[n("span",{on:{click:function(n){return t.changeImg(e,"MACD")}}},[t._v("macd")]),n("span",{on:{click:function(n){return t.changeImg(e,"KDJ")}}},[t._v("kdj")]),n("span",{on:{click:function(n){return t.changeImg(e,"CCI")}}},[t._v("cci")]),n("span",[t._v(t._s(e.date))])])])}))],2)])},o=[],i=(n("f559"),n("28a5"),n("572d")),r=n("c1df"),s=n.n(r),c={name:"PerfectList",data:function(){return{ppx:0,rightX:3,num:0,stockListStr:"",stockList:[],type:"CCI",date:new Date}},created:function(){},methods:{mouthMove:function(t){console.log("mouth move",t.offsetX),this.ppx=t.offsetX},stockListChange:function(){console.log(this.stockListStr.split("\n")),this.stockList.length=0,this.stockList=this.stockListStr.split("\n")},cc:function(){var t=this;Object(i["b"])({date:s()(this.date).format("YYYY-MM-DD")}).then((function(e){t.rightX=3+4.23*parseInt(e.data)}))},getStockNum:function(t){return console.log(t),t.startsWith("6")?"1."+t:(t.startsWith("3")||t.startsWith("0"),"0."+t)},changeImg:function(t,e){this.type=e}}},l=c,u=(n("8ee0"),n("2877")),p=Object(u["a"])(l,a,o,!1,null,"91a9f9f8",null);e["default"]=p.exports},"8a81":function(t,e,n){"use strict";var a=n("7726"),o=n("69a8"),i=n("9e1e"),r=n("5ca1"),s=n("2aba"),c=n("67ab").KEY,l=n("79e5"),u=n("5537"),p=n("7f20"),f=n("ca5a"),d=n("2b4c"),h=n("37c8"),g=n("3a72"),m=n("d4c0"),v=n("1169"),b=n("cb7c"),y=n("d3f4"),k=n("4bf8"),w=n("6821"),_=n("6a99"),S=n("4630"),D=n("2aeb"),x=n("7bbc"),C=n("11e9"),O=n("2621"),N=n("86cc"),P=n("0d58"),T=C.f,I=N.f,L=x.f,j=a.Symbol,E=a.JSON,M=E&&E.stringify,z="prototype",F=d("_hidden"),R=d("toPrimitive"),A={}.propertyIsEnumerable,W=u("symbol-registry"),Y=u("symbols"),X=u("op-symbols"),U=Object[z],$="function"==typeof j&&!!O.f,J=a.QObject,K=!J||!J[z]||!J[z].findChild,B=i&&l((function(){return 7!=D(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(t,e,n){var a=T(U,e);a&&delete U[e],I(t,e,n),a&&t!==U&&I(U,e,a)}:I,q=function(t){var e=Y[t]=D(j[z]);return e._k=t,e},G=$&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},V=function(t,e,n){return t===U&&V(X,e,n),b(t),e=_(e,!0),b(n),o(Y,e)?(n.enumerable?(o(t,F)&&t[F][e]&&(t[F][e]=!1),n=D(n,{enumerable:S(0,!1)})):(o(t,F)||I(t,F,S(1,{})),t[F][e]=!0),B(t,e,n)):I(t,e,n)},H=function(t,e){b(t);var n,a=m(e=w(e)),o=0,i=a.length;while(i>o)V(t,n=a[o++],e[n]);return t},Q=function(t,e){return void 0===e?D(t):H(D(t),e)},Z=function(t){var e=A.call(this,t=_(t,!0));return!(this===U&&o(Y,t)&&!o(X,t))&&(!(e||!o(this,t)||!o(Y,t)||o(this,F)&&this[F][t])||e)},tt=function(t,e){if(t=w(t),e=_(e,!0),t!==U||!o(Y,e)||o(X,e)){var n=T(t,e);return!n||!o(Y,e)||o(t,F)&&t[F][e]||(n.enumerable=!0),n}},et=function(t){var e,n=L(w(t)),a=[],i=0;while(n.length>i)o(Y,e=n[i++])||e==F||e==c||a.push(e);return a},nt=function(t){var e,n=t===U,a=L(n?X:w(t)),i=[],r=0;while(a.length>r)!o(Y,e=a[r++])||n&&!o(U,e)||i.push(Y[e]);return i};$||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===U&&e.call(X,n),o(this,F)&&o(this[F],t)&&(this[F][t]=!1),B(this,t,S(1,n))};return i&&K&&B(U,t,{configurable:!0,set:e}),q(t)},s(j[z],"toString",(function(){return this._k})),C.f=tt,N.f=V,n("9093").f=x.f=et,n("52a7").f=Z,O.f=nt,i&&!n("2d00")&&s(U,"propertyIsEnumerable",Z,!0),h.f=function(t){return q(d(t))}),r(r.G+r.W+r.F*!$,{Symbol:j});for(var at="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ot=0;at.length>ot;)d(at[ot++]);for(var it=P(d.store),rt=0;it.length>rt;)g(it[rt++]);r(r.S+r.F*!$,"Symbol",{for:function(t){return o(W,t+="")?W[t]:W[t]=j(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in W)if(W[e]===t)return e},useSetter:function(){K=!0},useSimple:function(){K=!1}}),r(r.S+r.F*!$,"Object",{create:Q,defineProperty:V,defineProperties:H,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var st=l((function(){O.f(1)}));r(r.S+r.F*st,"Object",{getOwnPropertySymbols:function(t){return O.f(k(t))}}),E&&r(r.S+r.F*(!$||l((function(){var t=j();return"[null]"!=M([t])||"{}"!=M({a:t})||"{}"!=M(Object(t))}))),"JSON",{stringify:function(t){var e,n,a=[t],o=1;while(arguments.length>o)a.push(arguments[o++]);if(n=e=a[1],(y(e)||void 0!==t)&&!G(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!G(e))return e}),a[1]=e,M.apply(E,a)}}),j[z][R]||n("32e9")(j[z],R,j[z].valueOf),p(j,"Symbol"),p(Math,"Math",!0),p(a.JSON,"JSON",!0)},"8ee0":function(t,e,n){"use strict";var a=n("5fa1"),o=n.n(a);o.a},ac4d:function(t,e,n){n("3a72")("asyncIterator")},af50:function(t,e,n){},bc8f:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stock-wrapper"},[n("ul",{staticClass:"board-list"},t._l(t.stockBoardData,(function(e,a){return n("li",{key:a,staticClass:"board-item",class:e.range>=0?"red":"green"},[n("div",{staticClass:"name"},[t._v(t._s(e.name))]),n("div",{staticClass:"value"},[t._v(t._s(e.value))]),n("div",{staticClass:"bottom"},[n("span",{staticClass:"left"},[n("i",{class:e.range>=0?"el-icon-top":"el-icon-bottom"}),t._v("\n          "+t._s(e.range)+"\n        ")]),n("span",{staticClass:"right"},[n("i",{class:e.rate>=0?"el-icon-top":"el-icon-bottom"}),t._v("\n          "+t._s(e.rate)+"\n        ")])])])})),0),n("div",{staticClass:"operate-box"},[n("el-button",{staticClass:"operate-btn",attrs:{type:"primary",size:"medium"},on:{click:function(e){t.operateDialogStatus=!0}}},[t._v("操作")]),n("el-dialog",{attrs:{title:"操作",width:"70%",visible:t.operateDialogStatus},on:{"update:visible":function(e){t.operateDialogStatus=e}}},[n("div",[n("el-button",{staticStyle:{"margin-left":"16px"},attrs:{round:"",size:"mini",type:"primary"},on:{click:function(e){return t.updateStockList()}}},[t._v("更新股票列表")]),n("div",[t._v(t._s(t.stockListProgressTaskInfo))]),n("el-progress",{attrs:{"text-inside":!0,percentage:t.percentageStockListProgressData}}),n("el-divider",[n("div",{staticStyle:{display:"flex"}},[n("el-button",{staticStyle:{"margin-left":"16px"},attrs:{icon:"el-icon-refresh",round:"",size:"mini",type:"primary"},on:{click:function(e){return t.updateStockTimeInfo()}}},[t._v("更新股票详情数据")]),n("el-button",{staticStyle:{"margin-left":"16px"},attrs:{icon:"el-icon-refresh",round:"",size:"mini",type:"danger"},on:{click:function(e){return t.stopUpdateTaskByType(1)}}},[t._v("停止更新")])],1)]),n("div",[t._v(t._s(t.stockDetailProgressTaskInfo))]),n("el-progress",{attrs:{"text-inside":!0,percentage:t.percentageStockDetailProgressData}})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.operateDialogStatus=!1}}},[t._v("关闭")])],1)])],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"stock-table",attrs:{data:t.stockTableData,stripe:""}},[n("el-table-column",{attrs:{label:"股票编号",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("router-link",{staticClass:"stock-num blue",attrs:{tag:"a",to:{name:"StockDetail",params:{stockNum:e.row.stockNum}},target:"_blank"}},[t._v(t._s(e.row.stockNum))])]}}])}),n("el-table-column",{attrs:{label:"股票名称",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("router-link",{staticClass:"stock-name blue",attrs:{tag:"a",to:{name:"StockDetail",params:{stockNum:e.row.stockNum}},target:"_blank"}},[t._v(t._s(e.row.stockName))])]}}])}),n("el-table-column",{attrs:{label:"最新价",width:"90",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"stock-close",class:e.row.upDownRange.includes("-")?"green":"red"},[t._v(t._s(e.row.close))])]}}])}),n("el-table-column",{attrs:{label:"单日涨跌幅",width:"94",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"stock-upDownRange",class:e.row.upDownRange.includes("-")?"green":"red"},[t._v(t._s(e.row.upDownRange))])]}}])}),n("el-table-column",{attrs:{label:"3日涨跌幅",width:"94",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"stock-upDownRange3",class:e.row.upDownRange3.includes("-")?"green":"red"},[t._v(t._s(e.row.upDownRange3))])]}}])}),n("el-table-column",{attrs:{label:"5日涨跌幅",width:"94",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"stock-upDownRange5",class:e.row.upDownRange5.includes("-")?"green":"red"},[t._v(t._s(e.row.upDownRange5))])]}}])}),n("el-table-column",{attrs:{label:"涨跌额",width:"90",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticClass:"stock-upDownPrices",class:e.row.upDownPrices.includes("-")?"green":"red"},[t._v(t._s(e.row.upDownPrices))])]}}])}),n("el-table-column",{attrs:{label:"换手率",prop:"turnOverrate",width:"90",align:"center"}}),n("el-table-column",{attrs:{label:"振幅",prop:"amplitude",width:"90",align:"center"}}),n("el-table-column",{attrs:{label:"上市日期",prop:"listingDate",width:"120",align:"center"}}),n("el-table-column",{attrs:{label:"流通股本",prop:"totalFlowShares",align:"center"}}),n("el-table-column",{attrs:{label:"总股本",prop:"totalShares",align:"center"}})],1),n("el-pagination",{staticClass:"stock-pagination",attrs:{"current-page":t.pageData.currentPage,"page-size":t.pageData.pageCount,total:t.pageData.total,"page-sizes":[10,20,50,100],layout:"sizes, total, prev, pager, next"},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)},o=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),r=(n("c5f6"),n("572d"));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={name:"StockList",data:function(){return{stockBoardData:[],stockTableData:[],pageData:{currentPage:1,pageCount:20,total:0},loading:!1,operateDialogStatus:!1,percentageStockListProgressData:0,percentageStockDetailProgressData:0,stockListProgressTaskInfo:"",stockDetailProgressTaskInfo:""}},created:function(){this.getStockBoardData(),this.getStockTableData(),this.initSocket()},methods:{getSocket:function(){var t=null,e="";if(e="http:"==window.location.protocol?"ws://127.0.0.1:8080/websocket/stock":"wss://127.0.0.1:8080/websocket/stock","WebSocket"in window)t=new WebSocket(e);else{if(!("MozWebSocket"in window))return void console.log("Error: WebSocket is not supported by this browser.");t=new MozWebSocket(e)}return t},initSocket:function(){var t=this.getSocket(),e=this;t.onopen=function(){console.log("Info: WebSocket connection opened.")},t.onmessage=function(t){var n=JSON.parse(t.data),a=n.taskId,o=n.totalCount,i=n.completeCount,r=n.taskInfo,s=i/o*100;0==a&&(e.percentageStockListProgressData=s.toFixed(0),e.stockListProgressTaskInfo=r),1==a&&(e.percentageStockDetailProgressData=s.toFixed(0),e.stockDetailProgressTaskInfo=r),console.log("接受消息："+n.runTask)}},getStockBoardData:function(){var t=this;Object(r["j"])().then((function(e){t.stockBoardData=e.list.map((function(t){return{name:t[1],value:t[2],range:Number((t[2]-t[6]).toFixed(2)),rate:t[3]}}))}))},getStockTableData:function(){var t=this;this.loading=!0,Object(r["m"])({currentPage:this.pageData.currentPage,pageCount:this.pageData.pageCount}).then((function(e){t.loading=!1,e.success?(t.stockTableData=e.data.list.map((function(e){return c({},e,{upDownRange:t.doubleToPercent(e.upDownRange),upDownRange3:t.doubleToPercent(e.upDownRange3),upDownRange5:t.doubleToPercent(e.upDownRange5),upDownPrices:e.upDownPrices.toFixed(2),turnOverrate:t.doubleToPercent(e.turnOverrate),amplitude:t.doubleToPercent(e.amplitude),totalFlowShares:t.formatNum(e.totalFlowShares),totalShares:t.formatNum(e.totalShares)})})),t.pageData.total=e.data.total):t.$message.error(e.message)}))},handleCurrentChange:function(t){this.pageData.currentPage=t,this.getStockTableData()},handleSizeChange:function(t){this.pageData.pageCount=t,this.getStockTableData()},updateStockList:function(){var t=this;Object(r["v"])().then((function(e){e.success?alert("成功"):t.$message.error(e.message)}))},updateStockDayInfo:function(){var t=this;Object(r["u"])().then((function(e){e.success?alert("成功"):t.$message.error(e.message)}))},updateStockTimeInfo:function(){var t=this;Object(r["w"])().then((function(e){e.success?alert("成功"):t.$message.error(e.message)}))},stopUpdateTaskByType:function(t){var e=this;Object(r["t"])({taskType:t}).then((function(t){t.success?alert("已停止"):e.$message.error(t.message)}))},handleDelete:function(t,e){console.log(t,e)}}},u=l,p=(n("c836"),n("2877")),f=Object(p["a"])(u,a,o,!1,null,"42ed3988",null);e["default"]=f.exports},c836:function(t,e,n){"use strict";var a=n("af50"),o=n.n(a);o.a},d2c8:function(t,e,n){var a=n("aae3"),o=n("be13");t.exports=function(t,e,n){if(a(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},d4c0:function(t,e,n){var a=n("0d58"),o=n("2621"),i=n("52a7");t.exports=function(t){var e=a(t),n=o.f;if(n){var r,s=n(t),c=i.f,l=0;while(s.length>l)c.call(t,r=s[l++])&&e.push(r)}return e}},d990:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{width:"100%"}},[n("span",[n("el-button",{on:{click:t.init}},[t._v("测试")]),n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:10},placeholder:"请输入内容"},model:{value:t.param.stockNums,callback:function(e){t.$set(t.param,"stockNums",e)},expression:"param.stockNums"}})],1),n("div",{staticStyle:{width:"100%",height:"1000px",display:"none"},attrs:{id:"k-chart"}}),n("el-button",{on:{click:t.drawLine}},[t._v("绘制")]),n("el-button",{on:{click:t.clc}},[t._v("计算")]),n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:10},placeholder:"请输入内容"},model:{value:t.param.points,callback:function(e){t.$set(t.param,"points",e)},expression:"param.points"}}),t._m(0)],1)])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("canvas",{staticStyle:{border:"#0F0 solid 1px"},attrs:{id:"num_canvers",width:"200",height:"200"}})])}],i=(n("ac6a"),n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("55dd"),n("28a5"),n("572d"));n("c1df");function r(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=s(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,r=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return i=t.done,t},e:function(t){r=!0,o=t},f:function(){try{i||null==a.return||a.return()}finally{if(r)throw o}}}}function s(t,e){if(t){if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var l={data:function(){return{param:{stockNums:"603216",startTime:"2022-07-01",endTime:"2022-09-30",points:""},points:[],kChart:{},numCanvas:null,context:null,option:{title:{text:"ECharts 入门示例"},tooltip:{trigger:"axis"},toolbox:{},legend:{data:["销量"]},xAxis:{data:["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]},yAxis:[{type:"value",name:"val",position:"left",min:12},{type:"value",name:"cci",position:"right",min:12}],series:[{name:"销量",type:"line",data:[5,20,36,10,10,20]}]}}},mounted:function(){var t=this,e=document.getElementById("k-chart");this.kChart=this.echarts.init(e),this.kChart.setOption(this.option,!0),this.numCanvas=document.getElementById("num_canvers"),this.numCanvas.onmousedown=function(){t.context=t.numCanvas.getContext("2d"),t.points=[{x:event.offsetX,y:event.offsetY}],t.context.beginPath()},this.numCanvas.onmousemove=function(){if(null!=t.context){var e=t.points[t.points.length-1];t.context.moveTo(e.x,e.y),t.context.lineTo(event.offsetX,event.offsetY),t.context.stroke(),t.points.push({x:event.offsetX,y:event.offsetY})}},this.numCanvas.onmouseout=this.numCanvas.onmouseup=function(){if(null!=t.context){t.context=null;for(var e=t.points.length,n=e/20,a=[],o=0;o<20;o++)a.push(t.numCanvas.height-t.points[Math.floor(o*n)].y);for(var i={},r=0;r<t.points.length;r++){var s=t.points[r];i[10*parseInt(s.x/10)]=s.y}for(var c in console.log(JSON.stringify(a),a.length),a=[],i)a.push(t.numCanvas.height-i[c]);console.log(JSON.stringify(a),a.length);for(var l=[],u=t.param.points.split("\n"),p=u[0].split(","),f=0;f<p.length;f++)l.push(parseFloat(p[f]));for(var d=0,h=0;h<a.length;h++)console.log(h,l[h]-a[h],l[h],a[h],d),d+=Math.pow(l[h]-a[h],2);console.log("distance:",d)}},this.init()},created:function(){this.echarts=n("313e")},methods:{fixData:function(t){function e(t){return[Math.min.apply(null,t),Math.max.apply(null,t)]}for(var n=e(t),a=[],o=0;o<20&&o<t.length;o++)a.push((t[o]-n[0])/(n[1]-n[0])*200);return a},clc:function(){for(var t=[],e=this.param.points.split("\n"),n=0;n<e.length;n++){for(var a=e[n],o=[],i=a.split(","),r=1;r<i.length;r++)o.push(parseFloat(i[r]));t.push(o)}for(var s=1;s<t.length;s++)console.log("dddd",this.distance(t[0],t[s]))},distance:function(t,e){for(var n=0,a=0;a<e.length;a++)n+=Math.pow(t[a]-e[a],2);return n},drawLine:function(){var t=this.numCanvas.getContext("2d");t.clearRect(0,0,this.numCanvas.width,this.numCanvas.height),t.stroke();for(var e=this.param.points.split("\n"),n=0;n<e.length;n++){var a=e[n],o=a.split(",");t.moveTo(10,parseInt(200-o[0]));for(var i=1;i<o.length;i++)t.lineTo(10*i,200-parseInt(o[i]));t.fillText(n,180,parseInt(200-o[o.length-1])),t.stroke()}},init:function(){var t=this;Object(i["g"])(this.param).then((function(e){var n=[],a={},o=[],i=e.data;for(var s in i){var c,l=[],u=r(i[s]);try{for(u.s();!(c=u.n()).done;){var p=c.value;l.push(p.close),a[p.date]=""}}catch(h){u.e(h)}finally{u.f()}n.push({name:s+"_close",type:"line",yAxisIndex:0,data:l}),o.push(s+"_close"),t.buildMa20(i,s,a,o,n),t.buildMa10(i,s,a,o,n),t.buildVal(i,s,a,o,n)}var f=[];for(var d in a)f.push(d);f.sort(),t.option.xAxis.data=f,t.option.series=n,t.option.legend.data=o,t.kChart.clear(),t.kChart.setOption(t.option),console.log(f),console.log(n)}))},buildMa10:function(t,e,n,a,o){var i,s=[],c=r(t[e]);try{for(c.s();!(i=c.n()).done;){var l=i.value;s.push(l.ma10),n[l.date]=""}}catch(u){c.e(u)}finally{c.f()}o.push({name:e+"_cci",type:"line",yAxisIndex:0,data:s}),a.push(e+"_cci")},buildMa20:function(t,e,n,a,o){var i,s=[],c=r(t[e]);try{for(c.s();!(i=c.n()).done;){var l=i.value;s.push(l.ma20),n[l.date]=""}}catch(u){c.e(u)}finally{c.f()}o.push({name:e+"_cci",type:"line",yAxisIndex:0,data:s}),a.push(e+"_cci")},buildVal:function(t,e,n,a,o){var i,s=[],c=r(t[e]);try{for(c.s();!(i=c.n()).done;){var l=i.value;s.push(l.volume),n[l.date]=""}}catch(u){c.e(u)}finally{c.f()}o.push({name:e+"_val",type:"line",yAxisIndex:1,data:s}),a.push(e+"_val")}}},u=l,p=n("2877"),f=Object(p["a"])(u,a,o,!1,null,null,null);e["default"]=f.exports},f559:function(t,e,n){"use strict";var a=n("5ca1"),o=n("9def"),i=n("d2c8"),r="startsWith",s=""[r];a(a.P+a.F*n("5147")(r),"String",{startsWith:function(t){var e=i(this,t,r),n=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),a=String(t);return s?s.call(e,a,n):e.slice(n,n+a.length)===a}})}}]);
//# sourceMappingURL=stock_list.11c794d1.js.map