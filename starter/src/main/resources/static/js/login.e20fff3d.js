(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{4842:function(e,s,t){},a55b:function(e,s,t){"use strict";t.r(s);var i=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"login-wrapper",attrs:{id:"loginBackground"}},[t("div",{staticClass:"form-wrapper"},[t("h1",{staticClass:"login-title"},[e._v("登录")]),t("p",{staticClass:"login-system"},[e._v("奇文股票")]),t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginFormRules,"label-width":"100px","hide-required-asterisk":""}},[t("el-form-item",{attrs:{prop:"telephone"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-mobile-phone",placeholder:"手机号"},model:{value:e.loginForm.telephone,callback:function(s){e.$set(e.loginForm,"telephone",s)},expression:"loginForm.telephone"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-lock",placeholder:"密码","show-password":""},model:{value:e.loginForm.password,callback:function(s){e.$set(e.loginForm,"password",s)},expression:"loginForm.password"}})],1),t("el-form-item",[t("drag-verify",{ref:"dragVerifyRef",attrs:{text:"请按住滑块拖动解锁",successText:"验证通过",handlerIcon:"el-icon-d-arrow-right",successIcon:"el-icon-circle-check",handlerBg:"#F5F7FA",width:375,isPassing:e.isPassing},on:{"update:isPassing":[function(s){e.isPassing=s},e.updateIsPassing],"update:is-passing":function(s){e.isPassing=s}}})],1),t("el-form-item",{staticClass:"login-btn-form-item"},[t("el-button",{staticClass:"login-btn",attrs:{type:"primary",disabled:e.loginBtnDisabled},on:{click:function(s){return e.submitForm("loginForm")}}},[e._v("登录")])],1)],1)],1)])},r=[],o=(t("a481"),t("9afa")),n=t.n(o),a=t("e979"),l=t("7cd9"),c={color:"64, 158, 255",pointColor:"64, 158, 255",opacity:.5,count:99,zIndex:-1},g={name:"Login",components:{DragVerify:a["a"]},data:function(){return{loginForm:{telephone:"",password:""},loginFormRules:{telephone:[{required:!0,message:"请输入手机号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,max:20,message:"长度在 5 到 20 个字符",trigger:"blur"}]},isPassing:!1,loginBtnDisabled:!0}},computed:{url:function(){var e=this.$route.query.Rurl;return e?{path:e}:{name:"Stock"}}},watch:{"loginForm.telephone":function(){this.isPassing=!1,this.$refs.dragVerifyRef.reset()},"loginForm.password":function(){this.isPassing=!1,this.$refs.dragVerifyRef.reset()}},created:function(){if(this.$store.getters.isLogin){var e=this.$store.getters.username;this.$message({message:"".concat(e," 您已登录！已跳转到首页"),center:!0,type:"success"}),this.$router.replace({name:"Home"})}this.$nextTick((function(){var e=document.getElementById("loginBackground");new n.a(e,c)}))},methods:{updateIsPassing:function(e){this.loginBtnDisabled=!e},submitForm:function(e){var s=this;this.$refs[e].validate((function(t){if(!t)return s.$message.error("请完善信息！"),!1;Object(l["c"])(s.loginForm,!0).then((function(t){t.success?(s.setCookies("token",t.data.token),s.$refs[e].resetFields(),s.$router.replace(s.url)):(s.$message.error("手机号或密码错误！"),s.isPassing=!1,s.$refs.dragVerifyRef.reset())}))}))}}},u=g,m=(t("cc51"),t("2877")),d=Object(m["a"])(u,i,r,!1,null,"58792ad0",null);s["default"]=d.exports},cc51:function(e,s,t){"use strict";var i=t("4842"),r=t.n(i);r.a}}]);
//# sourceMappingURL=login.e20fff3d.js.map